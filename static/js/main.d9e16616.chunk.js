(this["webpackJsonpexam-assistant-v2"]=this["webpackJsonpexam-assistant-v2"]||[]).push([[0],{53:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},82:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(4),s=c.n(n),a=c(37),r=c.n(a),i=(c(67),c(68),c(15)),o=c(13),l=(c(69),c(7)),u=Object(n.createContext)(),j=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(l.jsx)(u.Provider,{value:Object(n.useReducer)(t,c),children:s})},b=function(){return Object(n.useContext)(u)};c(71);var d=function(e){var t=e.item,c=e.playSong,n=e.index;return Object(l.jsx)("div",{className:"songRow",onClick:function(){return c(t.audio,t.title,n)},children:Object(l.jsxs)("div",{className:"songRow__info",children:[Object(l.jsx)("h1",{children:t.title}),Object(l.jsxs)("p",{children:["Created by ",t.teacher]})]})})};var O=function(){var e,t=b(),c=Object(o.a)(t,2),n=c[0],s=n.item,a=n.subject_audio,r=c[1],i=function(e,t,c){r({type:"SET_SONG",song:e,song_name:t,song_number:c})};return Object(l.jsxs)("div",{className:"body",children:[Object(l.jsxs)("div",{className:"body__infoText",children:[Object(l.jsxs)("h2",{children:["View ",s," Playlist"]}),Object(l.jsxs)("p",{children:["View the ",s," audio notes added by your teachers"]})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"body__songs",children:null===(e=a[s])||void 0===e?void 0:e.map((function(e,t){return Object(l.jsx)(d,{playSong:i,item:e,index:t},e.title)}))})]})},h=(c(72),c(19)),p=c(55);c(73);var m=function(e){var t=e.option,c=b(),n=Object(o.a)(c,2);Object(p.a)(n[0]);var s=n[1];return Object(l.jsx)("div",{className:"sidebarOption",children:Object(l.jsx)("p",{onClick:function(){s({type:"SET_ITEM",item:t})},children:t})})};var x=function(){var e=b(),t=Object(o.a)(e,2),c=t[0].playlists;return t[1],Object(l.jsxs)("div",{className:"sidebar",children:[Object(l.jsx)(h.b,{to:"/",className:"homelink",children:Object(l.jsx)("h2",{className:"head",children:"Exam Assistant"})}),Object(l.jsx)("strong",{className:"sidebar__title",children:"PLAYLISTS"}),Object(l.jsx)("hr",{}),null===c||void 0===c?void 0:c.map((function(e){return Object(l.jsx)(m,{option:e})}))]})},f=(c(53),c(58)),v=c.n(f),g=c(56),_=c.n(g),y=c(59),N=c.n(y),E=c(57),S=c.n(E);var T=function(){var e=b(),t=Object(o.a)(e,2),c=t[0],n=c.curr_song_name,s=c.playing,a=t[1],r=function(){a(s?{type:"SET_PLAYING",playing:!1}:{type:"SET_PLAYING",playing:!0})};return Object(l.jsxs)("div",{className:"footer",children:[Object(l.jsx)("div",{className:"footer__left",children:Object(l.jsx)("div",{className:"footer__songInfo",children:n||null})}),Object(l.jsxs)("div",{className:"footer__center",children:[Object(l.jsx)(_.a,{onClick:function(){a({type:"PLAY_PREV"})},className:"footer__icon"}),s?Object(l.jsx)(S.a,{onClick:r,fontSize:"large",className:"footer__icon"}):Object(l.jsx)(v.a,{onClick:r,fontSize:"large",className:"footer__icon"}),Object(l.jsx)(N.a,{onClick:function(){a({type:"PLAY_NEXT"})},className:"footer__icon"})]})]})},C=(c(82),c(48));c(84),c(95);C.a.initializeApp({apiKey:"AIzaSyA8NLVCA8OS6k6yIUdYeBiHNKrLq7X22Xg",authDomain:"exam-assistant-d4338.firebaseapp.com",projectId:"exam-assistant-d4338",storageBucket:"exam-assistant-d4338.appspot.com",messagingSenderId:"115631814589",appId:"1:115631814589:web:e98f40780ae3df36e344d4"});var k=C.a.auth(),w=C.a.database();c(87);var A=function(){return Object(l.jsx)("div",{className:"loader center",children:Object(l.jsx)("div",{class:"sp sp-circle"})})};var L=function(){var e=b(),t=Object(o.a)(e,2),c=t[0],s=c.curr_song,a=c.playing,r=c.isloading,u=t[1],j=Object(n.useRef)(new Audio("".concat(s)));return Object(n.useEffect)((function(){a?j.current.play():j.current.pause()}),[a]),Object(n.useEffect)((function(){j.current.pause(),j.current=new Audio("".concat(s))}),[s]),Object(n.useEffect)((function(){u({type:"Loading",loading:!0});var e=w.ref("/"),t={};e.on("value",(function(e){var c=e.val();for(var n in c){for(var s=[],a=0,r=Object.entries(c[n]);a<r.length;a++){var l=Object(o.a)(r[a],2),j=l[0],b=l[1],d={};d.key=j,s.push(Object(i.a)(Object(i.a)({},d),b))}t[n]=s}u({type:"SET_SUBJECT_AUDIO",subject_audio:t})}))}),[]),r?Object(l.jsx)(A,{}):Object(l.jsxs)("div",{className:"dashboard",children:[Object(l.jsxs)("div",{className:"dashboard-body",children:[Object(l.jsx)(x,{}),Object(l.jsx)(O,{})]}),Object(l.jsx)(T,{})]})};c(88);var P=function(){return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("h1",{children:"Welcome to Exam Assistant"}),Object(l.jsxs)("div",{className:"btn-wrap",children:[Object(l.jsx)(h.b,{to:"/student",children:Object(l.jsx)("button",{className:"btn",children:" Student's Page "})}),Object(l.jsx)(h.b,{to:"/teacher",children:Object(l.jsx)("button",{className:"btn",children:" Teacher's Page "})})]})]})},I=c(0),R=c.n(I),B=c(2),U=(c(89),c(16)),Y=c(35);c(54);var H=function(){var e=b(),t=Object(o.a)(e,2),c=t[0],s=c.playlists,a=c.user,r=t[1],i=Object(n.useState)(null),u=Object(o.a)(i,2),j=u[0],d=u[1],O=Object(n.useState)(null),p=Object(o.a)(O,2),m=p[0],x=p[1],f=Object(n.useState)(s[0]),v=Object(o.a)(f,2),g=v[0],_=v[1],y=Object(n.useState)(!0),N=Object(o.a)(y,2),E=N[0],S=N[1];Object(n.useEffect)((function(){k.onIdTokenChanged((function(e){e&&r({type:"SET_USER",user:e.email}),S(!1)}))}),[]);var T=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.signOut();case 2:r({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E?Object(l.jsx)(A,{}):a?Object(l.jsxs)("div",{className:"teach",children:[Object(l.jsxs)("div",{className:"teach-header",children:[Object(l.jsx)(h.b,{className:"header-item",to:"/teacher",children:"Create Topic"}),Object(l.jsx)(h.b,{className:"header-item",to:"/topics",children:"View Topics"}),Object(l.jsx)("p",{className:"header-item",onClick:T,children:"Logout"})]}),Object(l.jsx)("div",{className:"teacher-container",children:Object(l.jsxs)("div",{className:"teach-con",children:[Object(l.jsx)("h2",{className:"teach-title",children:"Add Exam Notes"}),Object(l.jsxs)("div",{className:"teach-form",children:[Object(l.jsx)("label",{children:"Select Subject:"}),Object(l.jsxs)("select",{name:"selectList",id:"selectList",onChange:function(e){return _(e.target.value)},children:["\xa0 ",null===s||void 0===s?void 0:s.map((function(e){return Object(l.jsx)("option",{value:e,children:e})}))]}),Object(l.jsx)("label",{children:"Enter Topic:"}),Object(l.jsx)("input",{type:"text",value:j,name:"name",onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("label",{children:"Enter Audio Link"}),Object(l.jsx)("input",{type:"text",value:m,name:"audio",onChange:function(e){return x(e.target.value)}})]}),Object(l.jsx)("button",{className:"btn btn-teach",onClick:function(){""==j||""==m?Y.b.error("There was an Error",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):w.ref("/".concat(g)).push().set({title:j,teacher:"Ajay",audio:m},(function(e){e?Y.b.error("There was an Error",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Y.b.success("Notes Added Succesfully!",{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),d(""),x("")},children:" Submit "})]})}),Object(l.jsx)(Y.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):Object(l.jsx)(U.a,{to:"/login"})},V=(c(90),s.a.forwardRef((function(e,t){var c=e.label,n=e.type;return Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:c,className:"field-input",ref:t,type:n})})}))),D=(c(91),function(){var e=b(),t=Object(o.a)(e,2),c=t[0].user,n=t[1],a=s.a.useRef(),r=s.a.useRef(),i=function(){var e=Object(B.a)(R.a.mark((function e(t){var c,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=a.current.value,s=r.current.value,e.prev=3,e.next=6,k.signInWithEmailAndPassword(c,s);case 6:i=e.sent,console.log("auth ",i),n({type:"SET_USER",user:i.user.email}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("error"),Y.b.warn("There was an Error",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return c?Object(l.jsx)(U.a,{to:"/teacher"}):Object(l.jsxs)("div",{className:"login-main",children:[Object(l.jsxs)("form",{className:"login-form",onSubmit:i,children:[Object(l.jsx)("h2",{className:"login-title",children:" Login "}),Object(l.jsx)(V,{ref:a,label:"Email",type:"email"}),Object(l.jsx)(V,{ref:r,label:"Password",type:"password"}),Object(l.jsx)("button",{className:"btn",type:"submit",children:"Login"}),Object(l.jsx)(h.b,{to:"/",className:"login-link",children:"Go Back"})]}),Object(l.jsx)(Y.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})]})}),G=(c(92),c(60)),J=c.n(G);var z=function(){var e=b(),t=Object(o.a)(e,2),c=t[0],s=c.subject_audio,a=c.playlists,r=c.user,u=t[1],j=Object(n.useState)(!0),d=Object(o.a)(j,2),O=d[0],p=d[1],m=Object(n.useState)("English"),x=Object(o.a)(m,2),f=x[0],v=x[1];Object(n.useEffect)((function(){var e=w.ref("/"),t={};e.on("value",(function(e){var c=e.val();for(var n in c){for(var s=[],a=0,r=Object.entries(c[n]);a<r.length;a++){var l=Object(o.a)(r[a],2),j=l[0],b=l[1],d={};d.key=j,s.push(Object(i.a)(Object(i.a)({},d),b))}t[n]=s}u({type:"SET_SUBJECT_AUDIO",subject_audio:t}),p(!1)}))}),[]),Object(n.useEffect)((function(){k.onIdTokenChanged((function(e){e&&u({type:"SET_USER",user:e.email})}))}),[]);var g,_=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.signOut();case 2:u({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O?Object(l.jsx)(A,{}):r?Object(l.jsxs)("div",{className:"topic-container",children:[Object(l.jsxs)("div",{className:"teach-header",children:[Object(l.jsx)(h.b,{className:"header-item",to:"/teacher",children:"Create Topic"}),Object(l.jsx)(h.b,{className:"header-item",to:"/topics",children:"View Topics"}),Object(l.jsx)("p",{className:"header-item",onClick:_,children:"Logout"})]}),Object(l.jsx)("div",{className:"topic-section",children:Object(l.jsxs)("div",{className:"topic",children:[Object(l.jsx)("h2",{className:"topic-head",children:" Select Topic "}),Object(l.jsxs)("select",{name:"selectList",id:"selectList",onChange:function(e){return v(e.target.value)},children:["\xa0 ",null===a||void 0===a?void 0:a.map((function(e){return Object(l.jsx)("option",{value:e,children:e})}))]}),Object(l.jsx)("div",{className:"topic-rows",children:s=={}?null:null===(g=s[f])||void 0===g?void 0:g.map((function(e){return Object(l.jsxs)("div",{className:"topic-row",children:[Object(l.jsx)("p",{children:e.title}),Object(l.jsx)(J.a,{onClick:function(){return t=e.key,void w.ref("/".concat(f,"/").concat(t)).remove();var t},color:"secondary"})]})}))})]})})]}):Object(l.jsx)(U.a,{to:"/login"})};var X=function(){return Object(l.jsx)(h.a,{children:Object(l.jsxs)(U.d,{children:[Object(l.jsx)(U.b,{path:"/topics",children:Object(l.jsx)(z,{})}),Object(l.jsx)(U.b,{path:"/teacher",children:Object(l.jsx)(H,{})}),Object(l.jsx)(U.b,{path:"/student",children:Object(l.jsx)(L,{})}),Object(l.jsx)(U.b,{path:"/login",children:Object(l.jsx)(D,{})}),Object(l.jsx)(U.b,{path:"/",children:Object(l.jsx)(P,{})})]})})},M=function(e,t){switch(t.type){case"SET_SUBJECT_AUDIO":return Object(i.a)(Object(i.a)({},e),{},{subject_audio:t.subject_audio,isloading:!1});case"PLAY_NEXT":var c=e.subject_audio[e.curr_song_playlist].length,n=e.curr_song_number;n===c-1?n=0:n+=1;var s=e.subject_audio[e.curr_song_playlist][n];return Object(i.a)(Object(i.a)({},e),{},{curr_song:s.audio,curr_song_name:s.title,curr_song_number:n,playing:!1});case"PLAY_PREV":var a=e.subject_audio[e.curr_song_playlist].length,r=e.curr_song_number;0===r?r=a-1:r-=1;var o=e.subject_audio[e.curr_song_playlist][r];return Object(i.a)(Object(i.a)({},e),{},{curr_song:o.audio,curr_song_name:o.title,curr_song_number:r,playing:!1});case"Loading":return Object(i.a)(Object(i.a)({},e),{},{isloading:t.loading});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.user});case"SET_ITEM":return Object(i.a)(Object(i.a)({},e),{},{item:t.item});case"SET_SONG":return Object(i.a)(Object(i.a)({},e),{},{curr_song:t.song,playing:!1,curr_song_name:t.song_name,curr_song_number:t.song_number,curr_song_playlist:e.item});case"SET_PLAYING":return Object(i.a)(Object(i.a)({},e),{},{playing:t.playing});case"SET_AUDIO":var l=e.subject_audio;return l[t.name].push({title:t.title,teacher:"ajay",audio:"english1.mp3"}),Object(i.a)(Object(i.a)({},e),{},{subject_audio:l});default:return e}};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(j,{initialState:{user:null,playlists:["English","History","Chemistry","Biology"],subject_audio:{},playing:!1,item:"English",curr_song:null,curr_song_name:null,curr_song_number:0,curr_song_playlist:"English",isloading:!1},reducer:M,children:Object(l.jsx)(X,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.d9e16616.chunk.js.map